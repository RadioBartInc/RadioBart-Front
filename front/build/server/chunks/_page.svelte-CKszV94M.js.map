{"version":3,"file":"_page.svelte-CKszV94M.js","sources":["../../../.svelte-kit/adapter-node/entries/pages/album/_id_/_page.svelte.js"],"sourcesContent":["import { c as create_ssr_component, e as escape, f as add_attribute, d as each, v as validate_component } from \"../../../../chunks/ssr.js\";\nimport { N as Navbar } from \"../../../../chunks/Navbar.js\";\nimport { g as getRatingClass } from \"../../../../chunks/misc.js\";\nimport { R as REVIEW_PREVIEW_LIMIT } from \"../../../../chunks/limits.js\";\nconst css$2 = {\n  code: 'section.svelte-kislqq{display:grid;grid-template-columns:25% 75%;grid-template-areas:\"data data\"\\n                        \"portada form\"\\n                        \"rating form\"\\n}.rating.svelte-kislqq{display:flex;justify-content:center;align-items:center;grid-area:rating;color:var(--page-bg);height:2rem;font-size:1.5rem;border-radius:100vw;width:4rem}.form-section.svelte-kislqq{grid-area:form;margin-left:.5rem;background-color:var(--form-review-bg);border-radius:.5rem;padding:.5rem}form.svelte-kislqq{display:flex;flex-direction:column;justify-content:space-between;height:100%}.portada.svelte-kislqq{grid-area:portada;aspect-ratio:1/1;width:100%;margin-bottom:.5rem}.datos.svelte-kislqq{grid-area:data}.nombre_album.svelte-kislqq{margin-bottom:.5rem}.user_rating.svelte-kislqq{display:flex}.rating_input.svelte-kislqq{-moz-appearance:textfield;-webkit-appearance:none;appearance:none;background-color:var(--form-review-field-bg);border:none;outline:none;color:var(--font-color);font-size:1rem;width:3.5rem;margin-right:.5rem;text-align:center;border-radius:.25rem}.rating_input.svelte-kislqq::-webkit-inner-spin-button,.rating_input.svelte-kislqq::-webkit-outer-spin-button{-webkit-appearance:none;margin:0}.review_input.svelte-kislqq{border-radius:.25rem;-moz-appearance:textfield;-webkit-appearance:none;appearance:none;background-color:var(--form-review-field-bg);border:none;outline:none;color:var(--font-color);font-size:1rem;margin:0.5rem 0;padding:0.1rem;height:100%}.review_input.svelte-kislqq::-webkit-inner-spin-button,.review_input.svelte-kislqq::-webkit-outer-spin-button{-webkit-appearance:none;margin:0}.submit.svelte-kislqq{-moz-appearance:textfield;-webkit-appearance:none;appearance:none;border:none;outline:none;color:var(--font-color);font-size:1rem;width:50%;margin:0 auto;background-color:var(--form-submit-bg);color:var(--font-color);cursor:pointer;transition:ease 0.3s;border-radius:100vw}.submit.svelte-kislqq::-webkit-inner-spin-button,.submit.svelte-kislqq::-webkit-outer-spin-button{-webkit-appearance:none;margin:0}.submit.svelte-kislqq:hover{box-shadow:0 0 4px var(--form-review-field-bg);background-color:var(--form-review-field-bg)}.rating-wrapper.svelte-kislqq{width:100%;display:flex;justify-content:center}.submission-message.svelte-kislqq{margin-left:1rem}.login-message.svelte-kislqq{width:100%;height:100%;display:flex;justify-content:center;align-items:center;font-size:2rem}',\n  map: '{\"version\":3,\"file\":\"AlbumPage.svelte\",\"sources\":[\"AlbumPage.svelte\"],\"sourcesContent\":[\"<script lang=\\\\\"ts\\\\\">import { getAlbumAvgRating, getAlbumById, getArtistById, getAllReviews, postReview, putReview } from \\\\\"@src/api/APIAdapter\\\\\";\\\\nimport { Review } from \\\\\"@src/models/ReviewClass\\\\\";\\\\nimport { User } from \\\\\"@src/models/UserClass\\\\\";\\\\nimport { getRatingClass } from \\\\\"@src/utils/misc\\\\\";\\\\nimport { onMount } from \\\\\"svelte\\\\\";\\\\nexport let id;\\\\nexport let album = null;\\\\nexport let artist = null;\\\\nexport let avg_rating = 0;\\\\nexport let userId = \\\\\"\\\\\";\\\\nexport let messageColor = \\\\\"red\\\\\";\\\\nlet userRating = \\\\\"\\\\\";\\\\nlet userReview = \\\\\"\\\\\";\\\\nlet message = \\\\\"\\\\\";\\\\nlet isLoggedIn = false;\\\\nlet token = null;\\\\nlet user = null;\\\\nonMount(async () => {\\\\n  try {\\\\n    token = localStorage.getItem(\\\\\"token\\\\\");\\\\n    if (token) {\\\\n      const userObject = JSON.parse(localStorage.getItem(\\\\\"user\\\\\") || \\\\\"\\\\\");\\\\n      user = userObject ? User.fromObject(userObject) : null;\\\\n      isLoggedIn = true;\\\\n      if (user) {\\\\n        userId = user.id;\\\\n      }\\\\n    }\\\\n    album = await getAlbumById(id);\\\\n    if (album) {\\\\n      artist = await getArtistById(album.artist);\\\\n      const ratingRes = await getAlbumAvgRating(album.id);\\\\n      avg_rating = ratingRes ? ratingRes : 0;\\\\n    }\\\\n  } catch (error) {\\\\n    console.error(\\\\\"Failed to fetch artist data:\\\\\", error);\\\\n  }\\\\n});\\\\nfunction isValidRating(rating) {\\\\n  const parsedRating = parseInt(rating, 10);\\\\n  return !isNaN(parsedRating) && parsedRating >= 0 && parsedRating <= 100;\\\\n}\\\\nasync function submitReview(event) {\\\\n  event.preventDefault();\\\\n  if (!isValidRating(userRating)) {\\\\n    messageColor = \\\\\"red\\\\\";\\\\n    message = \\\\\"Por favor, ingresa una calificaci\\\\\\\\xF3n v\\\\\\\\xE1lida entre 0 y 100.\\\\\";\\\\n    return;\\\\n  }\\\\n  try {\\\\n    const parsedRating = parseInt(userRating, 10);\\\\n    const existingReviews = await getAllReviews();\\\\n    const existingReview = existingReviews.find(\\\\n      (review) => review.userId === userId && review.albumId === album.id\\\\n    );\\\\n    console.log(existingReviews);\\\\n    if (existingReview) {\\\\n      existingReview.ratingScore = parsedRating;\\\\n      existingReview.content = userReview;\\\\n      existingReview.fecha = /* @__PURE__ */ new Date();\\\\n      const response = await putReview(existingReview, token || \\\\\"\\\\\");\\\\n      if (response) {\\\\n        messageColor = \\\\\"green\\\\\";\\\\n        message = \\\\\"\\\\\\\\xA1Rese\\\\\\\\xF1a actualizada con \\\\\\\\xE9xito!\\\\\";\\\\n        userRating = \\\\\"\\\\\";\\\\n        userReview = \\\\\"\\\\\";\\\\n      } else {\\\\n        messageColor = \\\\\"red\\\\\";\\\\n        message = \\\\\"No se pudo actualizar la rese\\\\\\\\xF1a. Int\\\\\\\\xE9ntalo m\\\\\\\\xE1s tarde.\\\\\";\\\\n      }\\\\n    } else {\\\\n      const newReview = new Review(\\\\n        `${Date.now()}`,\\\\n        userId,\\\\n        parsedRating,\\\\n        userReview,\\\\n        /* @__PURE__ */ new Date(),\\\\n        0,\\\\n        album.id,\\\\n        [],\\\\n        []\\\\n      );\\\\n      const response = await postReview(newReview, token ?? \\\\\"\\\\\");\\\\n      if (response) {\\\\n        messageColor = \\\\\"green\\\\\";\\\\n        message = \\\\\"\\\\\\\\xA1Rese\\\\\\\\xF1a enviada con \\\\\\\\xE9xito!\\\\\";\\\\n        userRating = \\\\\"\\\\\";\\\\n        userReview = \\\\\"\\\\\";\\\\n      } else {\\\\n        messageColor = \\\\\"red\\\\\";\\\\n        message = \\\\\"No se pudo enviar la rese\\\\\\\\xF1a. Int\\\\\\\\xE9ntalo m\\\\\\\\xE1s tarde.\\\\\";\\\\n      }\\\\n    }\\\\n  } catch (error) {\\\\n    console.error(\\\\\"Error al enviar la rese\\\\\\\\xF1a:\\\\\", error);\\\\n    messageColor = \\\\\"red\\\\\";\\\\n    message = \\\\\"Ocurri\\\\\\\\xF3 un error al enviar la rese\\\\\\\\xF1a.\\\\\";\\\\n  }\\\\n}\\\\n<\\/script>\\\\n\\\\n<section>\\\\n  {#if album && artist}\\\\n    <div class=\\\\\"datos\\\\\">\\\\n      <h1 class=\\\\\"artista\\\\\"><a href=\\\\\"/artista/{artist.id}\\\\\">{artist.name}</a></h1>\\\\n      <h2 class=\\\\\"nombre_album\\\\\">{album.title}</h2>\\\\n    </div>\\\\n\\\\n    <img src={album.cover} alt=\\\\\"album_cover\\\\\" class=\\\\\"portada\\\\\">\\\\n\\\\n    <div class=\\\\\"rating-wrapper\\\\\"><p class=\\\\\"rating {getRatingClass(avg_rating)}\\\\\">{avg_rating}</p></div>\\\\n\\\\n    <div class=\\\\\"form-section\\\\\">\\\\n    {#if isLoggedIn}\\\\n      <form on:submit={submitReview}>\\\\n        <div class=\\\\\"user_rating\\\\\">\\\\n          <input \\\\n            placeholder=\\\\\"0-100\\\\\" \\\\n            class=\\\\\"rating_input\\\\\" \\\\n            type=\\\\\"text\\\\\" \\\\n            bind:value={userRating} \\\\n            on:input={() => message = \\\\\"\\\\\"}\\\\n          >\\\\n          <p>/ 100</p>\\\\n          {#if message}\\\\n            <p class=\\\\\"submission-message\\\\\" style=\\\\\"color: {messageColor}\\\\\">{message}</p>\\\\n          {/if}\\\\n        </div>\\\\n        <textarea \\\\n          id=\\\\\"review\\\\\" \\\\n          class=\\\\\"review_input\\\\\" \\\\n          placeholder=\\\\\"Escribe tu reseña aquí...\\\\\" \\\\n          bind:value={userReview} \\\\n          on:input={() => message = \\\\\"\\\\\"}\\\\n        ></textarea>\\\\n        <input type=\\\\\"submit\\\\\" class=\\\\\"submit\\\\\" value=\\\\\"Enviar reseña\\\\\">\\\\n      </form>\\\\n      {:else}\\\\n      <!-- Mostrar mensaje si el usuario no está logueado -->\\\\n      <p class=\\\\\"login-message\\\\\">Logeate para escribir una review</p>\\\\n      {/if}\\\\n    </div>\\\\n  {/if}\\\\n</section>\\\\n\\\\n<style>section{\\\\n    display: grid;\\\\n    grid-template-columns: 25% 75%;\\\\n    grid-template-areas:\\\\\"data data\\\\\"\\\\n                        \\\\\"portada form\\\\\"\\\\n                        \\\\\"rating form\\\\\"\\\\n}\\\\n\\\\n.rating{\\\\n    display: flex;\\\\n    justify-content: center;\\\\n    align-items: center;\\\\n    grid-area: rating;\\\\n    color: var(--page-bg);\\\\n    height: 2rem;\\\\n    font-size: 1.5rem;\\\\n    border-radius: 100vw;\\\\n    width: 4rem;\\\\n}\\\\n\\\\n.form-section{\\\\n    grid-area: form;\\\\n    margin-left: .5rem;\\\\n    background-color: var(--form-review-bg);\\\\n    border-radius: .5rem;\\\\n    padding: .5rem;\\\\n}\\\\n\\\\nform{\\\\n    display: flex;\\\\n    flex-direction: column;\\\\n    justify-content: space-between;\\\\n    height: 100%;\\\\n}\\\\n\\\\n.portada{\\\\n    grid-area: portada;\\\\n    aspect-ratio: 1/1;\\\\n    width: 100%;\\\\n    margin-bottom: .5rem;\\\\n}\\\\n\\\\n.datos{\\\\n    grid-area: data;\\\\n}\\\\n\\\\n.nombre_album{\\\\n    margin-bottom: .5rem;\\\\n}\\\\n\\\\n.user_rating{\\\\n    display: flex;\\\\n}\\\\n\\\\n.rating_input {\\\\n    -moz-appearance: textfield; \\\\n    -webkit-appearance: none;  \\\\n    appearance: none;         \\\\n    background-color: var(--form-review-field-bg); \\\\n    border: none;        \\\\n    outline: none;  \\\\n    color: var(--font-color);\\\\n    font-size: 1rem;\\\\n    width: 3.5rem;\\\\n    margin-right: .5rem;\\\\n    text-align: center;\\\\n    border-radius: .25rem;\\\\n\\\\n}\\\\n\\\\n.rating_input::-webkit-inner-spin-button,\\\\n.rating_input::-webkit-outer-spin-button {\\\\n    -webkit-appearance: none;  \\\\n    margin: 0;\\\\n}\\\\n\\\\n.review_input {\\\\n    border-radius: .25rem;\\\\n    -moz-appearance: textfield; \\\\n    -webkit-appearance: none;  \\\\n    appearance: none;         \\\\n    background-color: var(--form-review-field-bg); \\\\n    border: none;        \\\\n    outline: none;  \\\\n    color: var(--font-color);\\\\n    font-size: 1rem;\\\\n    margin: 0.5rem 0;\\\\n    padding: 0.1rem;\\\\n    height: 100%;\\\\n}\\\\n\\\\n.review_input::-webkit-inner-spin-button,\\\\n.review_input::-webkit-outer-spin-button {\\\\n    -webkit-appearance: none;  \\\\n    margin: 0;\\\\n}\\\\n\\\\n.submit{\\\\n    -moz-appearance: textfield; \\\\n    -webkit-appearance: none;  \\\\n    appearance: none;          \\\\n    border: none;        \\\\n    outline: none;  \\\\n    color: var(--font-color);\\\\n    font-size: 1rem;\\\\n    width: 50%;\\\\n    margin: 0 auto;\\\\n    background-color: var(--form-submit-bg);\\\\n    color: var(--font-color);\\\\n    cursor: pointer;\\\\n    transition: ease 0.3s;\\\\n    border-radius: 100vw;\\\\n}\\\\n\\\\n.submit::-webkit-inner-spin-button,\\\\n.submit::-webkit-outer-spin-button {\\\\n    -webkit-appearance: none;  \\\\n    margin: 0;\\\\n}\\\\n\\\\n.submit:hover{\\\\n    box-shadow: 0 0 4px var(--form-review-field-bg);\\\\n    background-color: var(--form-review-field-bg);\\\\n}\\\\n\\\\n.rating-wrapper{\\\\n    width: 100%;\\\\n    display: flex;\\\\n    justify-content: center;\\\\n}\\\\n\\\\n.submission-message {\\\\n    margin-left: 1rem;\\\\n}\\\\n\\\\n.login-message{\\\\n    width: 100%;\\\\n    height: 100%;\\\\n    display: flex;\\\\n    justify-content: center;\\\\n    align-items: center;\\\\n    font-size: 2rem;\\\\n}\\\\n</style>\\\\n\"],\"names\":[],\"mappings\":\"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\"}'\n};\nconst AlbumPage = create_ssr_component(($$result, $$props, $$bindings, slots) => {\n  let { id } = $$props;\n  let { album = null } = $$props;\n  let { artist = null } = $$props;\n  let { avg_rating = 0 } = $$props;\n  let { userId = \"\" } = $$props;\n  let { messageColor = \"red\" } = $$props;\n  if ($$props.id === void 0 && $$bindings.id && id !== void 0) $$bindings.id(id);\n  if ($$props.album === void 0 && $$bindings.album && album !== void 0) $$bindings.album(album);\n  if ($$props.artist === void 0 && $$bindings.artist && artist !== void 0) $$bindings.artist(artist);\n  if ($$props.avg_rating === void 0 && $$bindings.avg_rating && avg_rating !== void 0) $$bindings.avg_rating(avg_rating);\n  if ($$props.userId === void 0 && $$bindings.userId && userId !== void 0) $$bindings.userId(userId);\n  if ($$props.messageColor === void 0 && $$bindings.messageColor && messageColor !== void 0) $$bindings.messageColor(messageColor);\n  $$result.css.add(css$2);\n  return `<section class=\"svelte-kislqq\">${album && artist ? `<div class=\"datos svelte-kislqq\"><h1 class=\"artista\"><a href=\"${\"/artista/\" + escape(artist.id, true)}\">${escape(artist.name)}</a></h1> <h2 class=\"nombre_album svelte-kislqq\">${escape(album.title)}</h2></div> <img${add_attribute(\"src\", album.cover, 0)} alt=\"album_cover\" class=\"portada svelte-kislqq\"> <div class=\"rating-wrapper svelte-kislqq\"><p class=\"${\"rating \" + escape(getRatingClass(avg_rating), true) + \" svelte-kislqq\"}\">${escape(avg_rating)}</p></div> <div class=\"form-section svelte-kislqq\">${` <p class=\"login-message svelte-kislqq\" data-svelte-h=\"svelte-12al56i\">Logeate para escribir una review</p>`}</div>` : ``} </section>`;\n});\nconst css$1 = {\n  code: \"section.svelte-1nmbk2.svelte-1nmbk2{display:grid;grid-template-columns:1fr 1fr}.info_usuario.svelte-1nmbk2.svelte-1nmbk2{display:flex;align-items:center;flex-direction:row}.avatar.svelte-1nmbk2.svelte-1nmbk2{aspect-ratio:1/1;width:100%;height:100%;max-width:3rem;max-height:3rem;border-radius:100vw;margin:0 1rem}.fecha.svelte-1nmbk2.svelte-1nmbk2{grid-area:fecha;color:var(--fecha-color);font-size:0.8rem;margin:.3rem 0}.rating.svelte-1nmbk2.svelte-1nmbk2{display:flex;justify-content:center;align-items:center;grid-area:rating;color:var(--page-bg);border-radius:100vw;padding:.3rem 0;height:3rem;width:4rem}.review.svelte-1nmbk2.svelte-1nmbk2{margin-bottom:1rem}.heart.svelte-1nmbk2.svelte-1nmbk2{transition:fill 0.3s ease}.likes.svelte-1nmbk2.svelte-1nmbk2{display:flex;flex-direction:row;align-items:center}.likes_button.svelte-1nmbk2.svelte-1nmbk2{max-width:2rem;max-height:2rem;margin-right:.5rem;margin-left:1rem;border:0;background:none;cursor:pointer}.likes-no.svelte-1nmbk2.svelte-1nmbk2{text-align:center}.more_review.svelte-1nmbk2.svelte-1nmbk2{margin-left:1rem}.more_review.svelte-1nmbk2 button.svelte-1nmbk2{background:none;cursor:pointer;border:0\\n}.more_review.svelte-1nmbk2 button img.svelte-1nmbk2{max-width:2rem;max-height:2rem;height:100%}\",\n  map: '{\"version\":3,\"file\":\"UserAlbumReviews.svelte\",\"sources\":[\"UserAlbumReviews.svelte\"],\"sourcesContent\":[\"<script lang=\\\\\"ts\\\\\">import { onMount } from \\\\\"svelte\\\\\";\\\\nimport { User } from \\\\\"@src/models/UserClass\\\\\";\\\\nimport { getRatingClass } from \\\\\"@src/utils/misc\\\\\";\\\\nimport { fetchReviewsByIds, getAlbumById, getUserById, updateReviewLikes } from \\\\\"@src/api/APIAdapter\\\\\";\\\\nimport { REVIEW_PREVIEW_LIMIT } from \\\\\"@src/consts/limits\\\\\";\\\\nexport let id;\\\\nexport let reviews = [];\\\\nlet users = {};\\\\nlet reviewLikedState = {};\\\\nlet reviewLikeCounts = {};\\\\nlet isCooldownActive = {};\\\\nasync function fetchUser(userId) {\\\\n  try {\\\\n    return await getUserById(userId);\\\\n  } catch (error) {\\\\n    console.error(`Error fetching user ${userId}:`, error);\\\\n    return null;\\\\n  }\\\\n}\\\\nonMount(async () => {\\\\n  try {\\\\n    let user = User.fromObject(JSON.parse(localStorage.getItem(\\\\\"user\\\\\") || \\\\\"\\\\\"));\\\\n    const album = await getAlbumById(id);\\\\n    if (album) {\\\\n      reviews = await fetchReviewsByIds(album.reviews);\\\\n      for (const review of reviews) {\\\\n        if (!users[review.userId]) {\\\\n          users[review.userId] = await fetchUser(review.userId);\\\\n        }\\\\n        if (user) {\\\\n          reviewLikedState[review.id] = review.userLikes.includes(user.id);\\\\n        } else {\\\\n          reviewLikedState[review.id] = false;\\\\n        }\\\\n        reviewLikeCounts[review.id] = review.likes;\\\\n        isCooldownActive[review.id] = false;\\\\n      }\\\\n    }\\\\n  } catch (error) {\\\\n    console.error(\\\\\"Failed to fetch album data:\\\\\", error);\\\\n  }\\\\n});\\\\nasync function toggleLike(reviewId) {\\\\n  let token = localStorage.getItem(\\\\\"token\\\\\");\\\\n  let user = User.fromObject(JSON.parse(localStorage.getItem(\\\\\"user\\\\\") || \\\\\"\\\\\"));\\\\n  if (!token || !user) {\\\\n    return;\\\\n  }\\\\n  if (isCooldownActive[reviewId]) {\\\\n    console.log(\\\\\"Please wait before liking again.\\\\\");\\\\n    return;\\\\n  }\\\\n  if (reviewLikedState[reviewId]) {\\\\n    reviewLikeCounts[reviewId] -= 1;\\\\n  } else {\\\\n    reviewLikeCounts[reviewId] += 1;\\\\n  }\\\\n  reviewLikedState[reviewId] = !reviewLikedState[reviewId];\\\\n  try {\\\\n    await updateReviewLikes(reviewId, token, reviewLikeCounts[reviewId], user.id);\\\\n    console.log(\\\\\"Review like updated successfully\\\\\");\\\\n  } catch (error) {\\\\n    console.error(\\\\\"Error updating review like:\\\\\", error);\\\\n    reviewLikedState[reviewId] = !reviewLikedState[reviewId];\\\\n    reviewLikeCounts[reviewId] += reviewLikedState[reviewId] ? 1 : -1;\\\\n  }\\\\n  isCooldownActive[reviewId] = true;\\\\n  setTimeout(() => {\\\\n    isCooldownActive[reviewId] = false;\\\\n  }, 2e3);\\\\n}\\\\nfunction getReviewPreview(content) {\\\\n  if (content.length > REVIEW_PREVIEW_LIMIT) {\\\\n    return content.slice(0, REVIEW_PREVIEW_LIMIT) + \\\\\"...\\\\\";\\\\n  }\\\\n  return content;\\\\n}\\\\n<\\/script>\\\\n\\\\n<section>\\\\n  {#each reviews as review}\\\\n    <div class=\\\\\"review\\\\\">\\\\n      <div class=\\\\\"usuario\\\\\">\\\\n        <div class=\\\\\"info_usuario\\\\\">\\\\n          <p class=\\\\\"rating {getRatingClass(review.ratingScore)}\\\\\">{review.ratingScore}</p>\\\\n          <a href=\\\\\"{`/usuario/${review.userId}`}\\\\\">\\\\n            <img src={users[review.userId]?.profile_picture || \\'https://via.placeholder.com/50\\'} alt=\\\\\"Avatar\\\\\" class=\\\\\"avatar\\\\\">\\\\n          </a>\\\\n          <p><a href={`/usuario/${review.userId}`}>{users[review.userId]?.name || review.userId}</a></p>\\\\n          <div class=\\\\\"likes\\\\\">\\\\n            <button class=\\\\\"likes_button\\\\\" on:click={() => toggleLike(review.id)}>\\\\n              <svg class=\\\\\"heart\\\\\" height=\\\\\"20px\\\\\" fill=\\\\\"{reviewLikedState[review.id] ? \\'#ff6666\\' : \\'#222\\'}\\\\\" viewBox=\\\\\"0 -30 511.99938 511\\\\\" width=\\\\\"20px\\\\\" xmlns=\\\\\"http://www.w3.org/2000/svg\\\\\">\\\\n                <path d=\\\\\"m248.367188 448.496094c2.359374 1.394531 4.996093 2.082031 7.632812 2.082031s5.273438-.6875 7.632812-2.082031c10.398438-6.152344 255.613282-152.242188 248.203126-309.316406-3.632813-77.175782-63.378907-138.078126-134.769532-138.648438-61.941406-1.390625-100.558594 42.121094-121.066406 80.53125-20.40625-38.191406-59.363281-80.53125-120.042969-80.53125-.351562 0-.6875 0-1.023437 0-71.390625.574219-131.136719 61.472656-134.769532 138.648438-7.410156 157.074218 237.800782 303.164062 248.203126 309.316406zm0 0\\\\\"/>\\\\n              </svg>\\\\n            </button>\\\\n            <p class=\\\\\"likes-no\\\\\">{reviewLikeCounts[review.id]}</p>\\\\n            <a class=\\\\\"more_review\\\\\" href=\\\\\"/review/{review.id}\\\\\">\\\\n              <button><img src=\\\\\"https://via.placeholder.com/50\\\\\" alt=\\\\\"\\\\\"></button>\\\\n            </a>\\\\n          </div>\\\\n        </div>\\\\n        <p class=\\\\\"fecha\\\\\">{review.fecha.toLocaleDateString(\\'es-ES\\')}</p>\\\\n      </div>\\\\n      <p class=\\\\\"review-texto\\\\\">{getReviewPreview(review.content)}</p>\\\\n    </div>\\\\n  {/each}\\\\n</section>\\\\n\\\\n<style>section{\\\\n    display: grid;\\\\n    grid-template-columns: 1fr 1fr;\\\\n}\\\\n\\\\n.info_usuario{\\\\n    display: flex;\\\\n    align-items: center;\\\\n    flex-direction: row;\\\\n}\\\\n\\\\n.avatar{\\\\n    aspect-ratio: 1/1;\\\\n    width: 100%;\\\\n    height: 100%;\\\\n    max-width: 3rem;\\\\n    max-height: 3rem;\\\\n    border-radius: 100vw;\\\\n    margin: 0 1rem;\\\\n}\\\\n\\\\n.fecha{\\\\n    grid-area: fecha;\\\\n    color: var(--fecha-color);\\\\n    font-size: 0.8rem;\\\\n    margin: .3rem 0;\\\\n}\\\\n\\\\n.rating{\\\\n    display: flex;\\\\n    justify-content: center;\\\\n    align-items: center;\\\\n    grid-area: rating;\\\\n    color: var(--page-bg);\\\\n    border-radius: 100vw;\\\\n    padding: .3rem 0;\\\\n    height: 3rem;\\\\n    width: 4rem;\\\\n}\\\\n\\\\n.review{\\\\n    margin-bottom: 1rem;\\\\n}\\\\n\\\\n.heart {\\\\n    transition: fill 0.3s ease;\\\\n}\\\\n\\\\n.likes{\\\\n    display: flex;\\\\n    flex-direction: row;\\\\n    align-items: center;\\\\n}\\\\n\\\\n.likes_button{\\\\n    max-width: 2rem;\\\\n    max-height: 2rem;\\\\n    margin-right: .5rem;\\\\n    margin-left: 1rem;\\\\n    border: 0;\\\\n    background: none;\\\\n    cursor: pointer;\\\\n}\\\\n\\\\n.likes-no{\\\\n    text-align: center;\\\\n}\\\\n\\\\n.more_review {\\\\n    margin-left: 1rem;\\\\n}\\\\n\\\\n.more_review button{\\\\n    background: none;\\\\n    cursor: pointer;\\\\n    border: 0\\\\n}\\\\n\\\\n.more_review button img{\\\\n    max-width: 2rem;\\\\n    max-height: 2rem;\\\\n    height: 100%;\\\\n}\\\\n</style>\\\\n\"],\"names\":[],\"mappings\":\"AA4GO,mCAAO,CACV,OAAO,CAAE,IAAI,CACb,qBAAqB,CAAE,GAAG,CAAC,GAC/B,CAEA,yCAAa,CACT,OAAO,CAAE,IAAI,CACb,WAAW,CAAE,MAAM,CACnB,cAAc,CAAE,GACpB,CAEA,mCAAO,CACH,YAAY,CAAE,CAAC,CAAC,CAAC,CACjB,KAAK,CAAE,IAAI,CACX,MAAM,CAAE,IAAI,CACZ,SAAS,CAAE,IAAI,CACf,UAAU,CAAE,IAAI,CAChB,aAAa,CAAE,KAAK,CACpB,MAAM,CAAE,CAAC,CAAC,IACd,CAEA,kCAAM,CACF,SAAS,CAAE,KAAK,CAChB,KAAK,CAAE,IAAI,aAAa,CAAC,CACzB,SAAS,CAAE,MAAM,CACjB,MAAM,CAAE,KAAK,CAAC,CAClB,CAEA,mCAAO,CACH,OAAO,CAAE,IAAI,CACb,eAAe,CAAE,MAAM,CACvB,WAAW,CAAE,MAAM,CACnB,SAAS,CAAE,MAAM,CACjB,KAAK,CAAE,IAAI,SAAS,CAAC,CACrB,aAAa,CAAE,KAAK,CACpB,OAAO,CAAE,KAAK,CAAC,CAAC,CAChB,MAAM,CAAE,IAAI,CACZ,KAAK,CAAE,IACX,CAEA,mCAAO,CACH,aAAa,CAAE,IACnB,CAEA,kCAAO,CACH,UAAU,CAAE,IAAI,CAAC,IAAI,CAAC,IAC1B,CAEA,kCAAM,CACF,OAAO,CAAE,IAAI,CACb,cAAc,CAAE,GAAG,CACnB,WAAW,CAAE,MACjB,CAEA,yCAAa,CACT,SAAS,CAAE,IAAI,CACf,UAAU,CAAE,IAAI,CAChB,YAAY,CAAE,KAAK,CACnB,WAAW,CAAE,IAAI,CACjB,MAAM,CAAE,CAAC,CACT,UAAU,CAAE,IAAI,CAChB,MAAM,CAAE,OACZ,CAEA,qCAAS,CACL,UAAU,CAAE,MAChB,CAEA,wCAAa,CACT,WAAW,CAAE,IACjB,CAEA,0BAAY,CAAC,oBAAM,CACf,UAAU,CAAE,IAAI,CAChB,MAAM,CAAE,OAAO,CACf,MAAM,CAAE,CAAC;AACb,CAEA,0BAAY,CAAC,MAAM,CAAC,iBAAG,CACnB,SAAS,CAAE,IAAI,CACf,UAAU,CAAE,IAAI,CAChB,MAAM,CAAE,IACZ\"}'\n};\nconst UserAlbumReviews = create_ssr_component(($$result, $$props, $$bindings, slots) => {\n  let { id } = $$props;\n  let { reviews = [] } = $$props;\n  let users = {};\n  let reviewLikedState = {};\n  let reviewLikeCounts = {};\n  function getReviewPreview(content) {\n    if (content.length > REVIEW_PREVIEW_LIMIT) {\n      return content.slice(0, REVIEW_PREVIEW_LIMIT) + \"...\";\n    }\n    return content;\n  }\n  if ($$props.id === void 0 && $$bindings.id && id !== void 0) $$bindings.id(id);\n  if ($$props.reviews === void 0 && $$bindings.reviews && reviews !== void 0) $$bindings.reviews(reviews);\n  $$result.css.add(css$1);\n  return `<section class=\"svelte-1nmbk2\">${each(reviews, (review) => {\n    return `<div class=\"review svelte-1nmbk2\"><div class=\"usuario\"><div class=\"info_usuario svelte-1nmbk2\"><p class=\"${\"rating \" + escape(getRatingClass(review.ratingScore), true) + \" svelte-1nmbk2\"}\">${escape(review.ratingScore)}</p> <a${add_attribute(\"href\", `/usuario/${review.userId}`, 0)}><img${add_attribute(\"src\", users[review.userId]?.profile_picture || \"https://via.placeholder.com/50\", 0)} alt=\"Avatar\" class=\"avatar svelte-1nmbk2\"></a> <p><a${add_attribute(\"href\", `/usuario/${review.userId}`, 0)}>${escape(users[review.userId]?.name || review.userId)}</a></p> <div class=\"likes svelte-1nmbk2\"><button class=\"likes_button svelte-1nmbk2\"><svg class=\"heart svelte-1nmbk2\" height=\"20px\"${add_attribute(\"fill\", reviewLikedState[review.id] ? \"#ff6666\" : \"#222\", 0)} viewBox=\"0 -30 511.99938 511\" width=\"20px\" xmlns=\"http://www.w3.org/2000/svg\"><path d=\"m248.367188 448.496094c2.359374 1.394531 4.996093 2.082031 7.632812 2.082031s5.273438-.6875 7.632812-2.082031c10.398438-6.152344 255.613282-152.242188 248.203126-309.316406-3.632813-77.175782-63.378907-138.078126-134.769532-138.648438-61.941406-1.390625-100.558594 42.121094-121.066406 80.53125-20.40625-38.191406-59.363281-80.53125-120.042969-80.53125-.351562 0-.6875 0-1.023437 0-71.390625.574219-131.136719 61.472656-134.769532 138.648438-7.410156 157.074218 237.800782 303.164062 248.203126 309.316406zm0 0\"></path></svg></button> <p class=\"likes-no svelte-1nmbk2\">${escape(reviewLikeCounts[review.id])}</p> <a class=\"more_review svelte-1nmbk2\" href=\"${\"/review/\" + escape(review.id, true)}\"><button class=\"svelte-1nmbk2\" data-svelte-h=\"svelte-ssgfop\"><img src=\"https://via.placeholder.com/50\" alt=\"\" class=\"svelte-1nmbk2\"></button></a> </div></div> <p class=\"fecha svelte-1nmbk2\">${escape(review.fecha.toLocaleDateString(\"es-ES\"))}</p></div> <p class=\"review-texto\">${escape(getReviewPreview(review.content))}</p> </div>`;\n  })} </section>`;\n});\nconst css = {\n  code: `@import url('https://fonts.googleapis.com/css2?family=Fira+Sans:ital,wght@0,100;0,200;0,300;0,400;0,500;0,600;0,700;0,800;0,900;1,100;1,200;1,300;1,400;1,500;1,600;1,700;1,800;1,900&display=swap');:root{--elem-bg:#5a5a5a;--light-elem-bg:#7a7a7a;--hover-buttong-bg:#6a6a6a;--page-bg:#3b3b3b;--font-color:#fff;--shadow-color:rgba(0, 0, 0, 0.3);--bad-rating-bg:#ff5353;--good-rating-bg:#98ff98;--regular-rating-bg:#ffff79;--fecha-color:rgb(134, 134, 134);--primero-color:rgb(229, 228, 226);--segundo-color:rgb(255,215,0);--tercero-color:rgb(192,192,192);--cuarto-color:rgb(205, 127, 50);--primero-size:3rem;--segundo-size:2.75rem;--tercero-size:2.5rem;--cuarto-size:2.25rem;--a-glow:rgba(255, 255, 255, 0.4);--form-review-bg:rgb(114, 114, 114);--form-review-field-bg:rgb(70, 70, 70);--form-submit-bg:rgb(97, 97, 97)}*{box-sizing:border-box;padding:0;margin:0}body{margin:0;padding:0;background-color:var(--page-bg);color:var(--font-color);font-family:\"Fira Sans\", sans-serif;font-weight:400;font-style:normal}a{text-decoration:none;cursor:pointer;color:inherit;font-family:inherit;font-size:inherit;font-weight:inherit;transition:.25s}a:hover{text-shadow:0 0 8px var(--a-glow)}.good_rating{background-color:var(--good-rating-bg)}.bad_rating{background-color:var(--bad-rating-bg)}.regular_rating{background-color:var(--regular-rating-bg)}.hover-image{transition:transform 0.3s ease, z-index 0s;z-index:1;max-width:150px;max-height:150px;object-fit:cover;object-position:center}.hover-image:hover{transform:scale(1.075) translateZ(0);z-index:2}.section-body{display:flex;flex-direction:column;margin:3rem}.section-title{font-size:2rem;margin-bottom:1rem;border-bottom:1px solid var(--light-elem-bg);box-shadow:0 3px 2px -3px var(--light-elem-bg)}.red{color:var(--bad-rating-bg)}.green{color:var(--good-rating-bg)}main.svelte-ki07hp{padding:3rem\n}`,\n  map: `{\"version\":3,\"file\":\"+page.svelte\",\"sources\":[\"+page.svelte\"],\"sourcesContent\":[\"<script>\\\\n    import Navbar from '@src/components/navbar/Navbar.svelte';\\\\n    import AlbumPage from '@src/components/albumpage/AlbumPage.svelte';\\\\n    import UserAlbumReviews from '@src/components/useralbumreviews/UserAlbumReviews.svelte';\\\\n\\\\n    export let data\\\\n<\\/script>\\\\n\\\\n<style>@import url('https://fonts.googleapis.com/css2?family=Fira+Sans:ital,wght@0,100;0,200;0,300;0,400;0,500;0,600;0,700;0,800;0,900;1,100;1,200;1,300;1,400;1,500;1,600;1,700;1,800;1,900&display=swap');\\\\n\\\\n:global(:root) {\\\\n    --elem-bg: #5a5a5a;\\\\n    --light-elem-bg: #7a7a7a;\\\\n    --hover-buttong-bg: #6a6a6a;\\\\n\\\\n    --page-bg: #3b3b3b;\\\\n\\\\n    --font-color: #fff;\\\\n    --shadow-color: rgba(0, 0, 0, 0.3);\\\\n\\\\n    --bad-rating-bg: #ff5353;\\\\n    --good-rating-bg: #98ff98;\\\\n    --regular-rating-bg: #ffff79;\\\\n\\\\n    --fecha-color: rgb(134, 134, 134);\\\\n\\\\n    --primero-color: rgb(229, 228, 226);\\\\n    --segundo-color: rgb(255,215,0);\\\\n    --tercero-color: rgb(192,192,192);\\\\n    --cuarto-color:  rgb(205, 127, 50);\\\\n    --primero-size: 3rem;\\\\n    --segundo-size: 2.75rem;\\\\n    --tercero-size: 2.5rem;\\\\n    --cuarto-size: 2.25rem;\\\\n\\\\n    --a-glow: rgba(255, 255, 255, 0.4);\\\\n\\\\n    --form-review-bg: rgb(114, 114, 114);\\\\n    --form-review-field-bg: rgb(70, 70, 70);\\\\n    --form-submit-bg: rgb(97, 97, 97);\\\\n}\\\\n\\\\n:global(*) {\\\\n    box-sizing: border-box;\\\\n    padding: 0;\\\\n    margin: 0;\\\\n}\\\\n\\\\n:global(body){\\\\n    margin: 0;\\\\n    padding: 0;\\\\n    background-color: var(--page-bg);\\\\n    color: var(--font-color);\\\\n    font-family: \\\\\"Fira Sans\\\\\", sans-serif;\\\\n    font-weight: 400;\\\\n    font-style: normal;\\\\n}\\\\n\\\\n:global(a){\\\\n    text-decoration: none;\\\\n    cursor: pointer;\\\\n    color: inherit;\\\\n    font-family: inherit;\\\\n    font-size: inherit;\\\\n    font-weight: inherit;\\\\n    transition: .25s;\\\\n}\\\\n\\\\n:global(a:hover){\\\\n    text-shadow: 0 0 8px var(--a-glow);\\\\n}\\\\n\\\\n:global(.good_rating){\\\\n    background-color: var(--good-rating-bg);\\\\n}\\\\n\\\\n:global(.bad_rating){\\\\n    background-color: var(--bad-rating-bg);\\\\n}\\\\n\\\\n:global(.regular_rating){\\\\n    background-color: var(--regular-rating-bg);\\\\n}\\\\n\\\\n:global(.hover-image) {\\\\n    transition: transform 0.3s ease, z-index 0s; \\\\n    z-index: 1; \\\\n    max-width: 150px;\\\\n    max-height: 150px;\\\\n    object-fit: cover;\\\\n    object-position: center; \\\\n}\\\\n\\\\n:global(.hover-image:hover) {\\\\n    transform: scale(1.075) translateZ(0); \\\\n    z-index: 2; \\\\n}\\\\n\\\\n:global(.section-body) {\\\\n    display: flex;\\\\n    flex-direction: column;\\\\n    margin: 3rem;\\\\n}\\\\n\\\\n:global(.section-title){\\\\n    font-size: 2rem;\\\\n    margin-bottom: 1rem;\\\\n    border-bottom: 1px solid var(--light-elem-bg);\\\\n    box-shadow: 0 3px 2px -3px var(--light-elem-bg);\\\\n}\\\\n\\\\n:global(.red){\\\\n    color: var(--bad-rating-bg);\\\\n}\\\\n\\\\n:global(.green){\\\\n    color: var(--good-rating-bg);\\\\n}\\\\n\\\\nmain{\\\\n    padding: 3rem\\\\n}\\\\n</style>\\\\n\\\\n<Navbar/>\\\\n\\\\n<main>\\\\n    <section class=\\\\\"section-body\\\\\">\\\\n        <AlbumPage id={data.id}/>\\\\n    </section>\\\\n\\\\n    <section class=\\\\\"section-body\\\\\">\\\\n        <h2 class=\\\\\"section-title\\\\\">Reviews recientes</h2>\\\\n        <UserAlbumReviews id={data.id}/>\\\\n    </section>\\\\n</main>\\\\n\"],\"names\":[],\"mappings\":\"AAQO,QAAQ,4LAA4L,CAEnM,KAAO,CACX,SAAS,CAAE,OAAO,CAClB,eAAe,CAAE,OAAO,CACxB,kBAAkB,CAAE,OAAO,CAE3B,SAAS,CAAE,OAAO,CAElB,YAAY,CAAE,IAAI,CAClB,cAAc,CAAE,kBAAkB,CAElC,eAAe,CAAE,OAAO,CACxB,gBAAgB,CAAE,OAAO,CACzB,mBAAmB,CAAE,OAAO,CAE5B,aAAa,CAAE,kBAAkB,CAEjC,eAAe,CAAE,kBAAkB,CACnC,eAAe,CAAE,cAAc,CAC/B,eAAe,CAAE,gBAAgB,CACjC,cAAc,CAAG,iBAAiB,CAClC,cAAc,CAAE,IAAI,CACpB,cAAc,CAAE,OAAO,CACvB,cAAc,CAAE,MAAM,CACtB,aAAa,CAAE,OAAO,CAEtB,QAAQ,CAAE,wBAAwB,CAElC,gBAAgB,CAAE,kBAAkB,CACpC,sBAAsB,CAAE,eAAe,CACvC,gBAAgB,CAAE,eACtB,CAEQ,CAAG,CACP,UAAU,CAAE,UAAU,CACtB,OAAO,CAAE,CAAC,CACV,MAAM,CAAE,CACZ,CAEQ,IAAK,CACT,MAAM,CAAE,CAAC,CACT,OAAO,CAAE,CAAC,CACV,gBAAgB,CAAE,IAAI,SAAS,CAAC,CAChC,KAAK,CAAE,IAAI,YAAY,CAAC,CACxB,WAAW,CAAE,WAAW,CAAC,CAAC,UAAU,CACpC,WAAW,CAAE,GAAG,CAChB,UAAU,CAAE,MAChB,CAEQ,CAAE,CACN,eAAe,CAAE,IAAI,CACrB,MAAM,CAAE,OAAO,CACf,KAAK,CAAE,OAAO,CACd,WAAW,CAAE,OAAO,CACpB,SAAS,CAAE,OAAO,CAClB,WAAW,CAAE,OAAO,CACpB,UAAU,CAAE,IAChB,CAEQ,OAAQ,CACZ,WAAW,CAAE,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,IAAI,QAAQ,CACrC,CAEQ,YAAa,CACjB,gBAAgB,CAAE,IAAI,gBAAgB,CAC1C,CAEQ,WAAY,CAChB,gBAAgB,CAAE,IAAI,eAAe,CACzC,CAEQ,eAAgB,CACpB,gBAAgB,CAAE,IAAI,mBAAmB,CAC7C,CAEQ,YAAc,CAClB,UAAU,CAAE,SAAS,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC,OAAO,CAAC,EAAE,CAC3C,OAAO,CAAE,CAAC,CACV,SAAS,CAAE,KAAK,CAChB,UAAU,CAAE,KAAK,CACjB,UAAU,CAAE,KAAK,CACjB,eAAe,CAAE,MACrB,CAEQ,kBAAoB,CACxB,SAAS,CAAE,MAAM,KAAK,CAAC,CAAC,WAAW,CAAC,CAAC,CACrC,OAAO,CAAE,CACb,CAEQ,aAAe,CACnB,OAAO,CAAE,IAAI,CACb,cAAc,CAAE,MAAM,CACtB,MAAM,CAAE,IACZ,CAEQ,cAAe,CACnB,SAAS,CAAE,IAAI,CACf,aAAa,CAAE,IAAI,CACnB,aAAa,CAAE,GAAG,CAAC,KAAK,CAAC,IAAI,eAAe,CAAC,CAC7C,UAAU,CAAE,CAAC,CAAC,GAAG,CAAC,GAAG,CAAC,IAAI,CAAC,IAAI,eAAe,CAClD,CAEQ,IAAK,CACT,KAAK,CAAE,IAAI,eAAe,CAC9B,CAEQ,MAAO,CACX,KAAK,CAAE,IAAI,gBAAgB,CAC/B,CAEA,kBAAI,CACA,OAAO,CAAE,IAAI;AACjB\"}`\n};\nconst Page = create_ssr_component(($$result, $$props, $$bindings, slots) => {\n  let { data } = $$props;\n  if ($$props.data === void 0 && $$bindings.data && data !== void 0) $$bindings.data(data);\n  $$result.css.add(css);\n  return `${validate_component(Navbar, \"Navbar\").$$render($$result, {}, {}, {})} <main class=\"svelte-ki07hp\"><section class=\"section-body\">${validate_component(AlbumPage, \"AlbumPage\").$$render($$result, { id: data.id }, {}, {})}</section> <section class=\"section-body\"><h2 class=\"section-title\" data-svelte-h=\"svelte-ocb0vo\">Reviews recientes</h2> ${validate_component(UserAlbumReviews, \"UserAlbumReviews\").$$render($$result, { id: data.id }, {}, {})}</section></main>`;\n});\nexport {\n  Page as default\n};\n"],"names":[],"mappings":"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"}