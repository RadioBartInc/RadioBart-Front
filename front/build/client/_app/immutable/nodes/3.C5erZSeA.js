import{s as O,n as S,r as H,o as D}from"../chunks/scheduler.Cz3TSd7V.js";import{S as P,i as q,e as g,s as C,c as v,d as B,A as L,h as y,g as U,o as p,j as F,k as c,B as E,z as I,b as R,f as z,l as J,m as V,n as G,p as K,t as Q,a as W,r as X}from"../chunks/index.DKOtY3uX.js";import{U as Y,p as Z,A as $}from"../chunks/APIAdapter.DEoGsArP.js";function M(n){let t,e;return{c(){t=g("p"),e=R(n[2]),this.h()},l(a){t=v(a,"P",{class:!0});var r=B(t);e=z(r,n[2]),r.forEach(U),this.h()},h(){p(t,"class",n[3])},m(a,r){F(a,t,r),c(t,e)},p(a,r){r&4&&J(e,a[2]),r&8&&p(t,"class",a[3])},d(a){a&&U(t)}}}function tt(n){let t,e,a="Agregar Artista",r,f,w="Nombre del Artista:",h,o,A,i,x="URL de la Foto:",N,m,_,b,d,T='<input class="submit" type="submit" value="Agregar Artista"/>',k,j,l=n[2]&&M(n);return{c(){t=g("form"),e=g("h2"),e.textContent=a,r=C(),f=g("label"),f.textContent=w,h=C(),o=g("input"),A=C(),i=g("label"),i.textContent=x,N=C(),m=g("input"),_=C(),l&&l.c(),b=C(),d=g("div"),d.innerHTML=T,this.h()},l(u){t=v(u,"FORM",{});var s=B(t);e=v(s,"H2",{"data-svelte-h":!0}),L(e)!=="svelte-1i160eb"&&(e.textContent=a),r=y(s),f=v(s,"LABEL",{for:!0,"data-svelte-h":!0}),L(f)!=="svelte-1jpyqsx"&&(f.textContent=w),h=y(s),o=v(s,"INPUT",{type:!0,id:!0,class:!0}),A=y(s),i=v(s,"LABEL",{for:!0,"data-svelte-h":!0}),L(i)!=="svelte-uwvvat"&&(i.textContent=x),N=y(s),m=v(s,"INPUT",{type:!0,id:!0,class:!0}),_=y(s),l&&l.l(s),b=y(s),d=v(s,"DIV",{class:!0,"data-svelte-h":!0}),L(d)!=="svelte-1l1oejm"&&(d.innerHTML=T),s.forEach(U),this.h()},h(){p(f,"for","name"),p(o,"type","text"),p(o,"id","name"),p(o,"class","text-input"),o.required=!0,p(i,"for","foto-url"),p(m,"type","text"),p(m,"id","foto-url"),p(m,"class","text-input"),p(d,"class","wrapper")},m(u,s){F(u,t,s),c(t,e),c(t,r),c(t,f),c(t,h),c(t,o),E(o,n[0]),c(t,A),c(t,i),c(t,N),c(t,m),E(m,n[1]),c(t,_),l&&l.m(t,null),c(t,b),c(t,d),k||(j=[I(o,"input",n[6]),I(m,"input",n[7]),I(t,"submit",n[4])],k=!0)},p(u,[s]){s&1&&o.value!==u[0]&&E(o,u[0]),s&2&&m.value!==u[1]&&E(m,u[1]),u[2]?l?l.p(u,s):(l=M(u),l.c(),l.m(t,b)):l&&(l.d(1),l=null)},i:S,o:S,d(u){u&&U(t),l&&l.d(),k=!1,H(j)}}}function et(n,t,e){let{artistName:a=""}=t,r="",f="",w=[],h="",o="red",A,i;D(()=>{A=localStorage.getItem("token"),i=Y.fromObject(JSON.parse(localStorage.getItem("user")||""))});async function x(_){_.preventDefault();const b=new $("",r,w,f||"https://via.placeholder.com/150");try{await Z(b,A??"",(i==null?void 0:i.admin_secret)??"",(i==null?void 0:i.id)??"")?(e(3,o="green"),e(2,h="Artista agregado correctamente"),setTimeout(()=>{window.location.href="/"},1e3)):(e(3,o="red"),e(2,h="Error interno del servidor, intenta de nuevo"))}catch(d){console.error("Error al agregar el artista:",d),e(2,h="OcurriÃ³ un error durante el proceso")}}function N(){r=this.value,e(0,r)}function m(){f=this.value,e(1,f)}return n.$$set=_=>{"artistName"in _&&e(5,a=_.artistName)},[r,f,h,o,x,a,N,m]}class at extends P{constructor(t){super(),q(this,t,et,tt,O,{artistName:5})}}function rt(n){let t,e;return t=new at({}),{c(){V(t.$$.fragment)},l(a){G(t.$$.fragment,a)},m(a,r){K(t,a,r),e=!0},p:S,i(a){e||(Q(t.$$.fragment,a),e=!0)},o(a){W(t.$$.fragment,a),e=!1},d(a){X(t,a)}}}function st(n,t,e){let{data:a}=t;return n.$$set=r=>{"data"in r&&e(0,a=r.data)},[a]}class it extends P{constructor(t){super(),q(this,t,st,rt,O,{data:0})}}export{it as component};
