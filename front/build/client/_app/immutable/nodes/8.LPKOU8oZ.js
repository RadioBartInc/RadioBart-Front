import{s as X,n as B,r as Y,o as te,d as z}from"../chunks/scheduler.Cz3TSd7V.js";import{S as Z,i as x,e as E,s as y,v as D,c as N,d as I,h as w,A as ee,g as d,o as p,j as T,k,B as H,z as U,u as se,b as M,f as O,l as j,m as V,n as q,p as F,t as L,a as Q,r as G}from"../chunks/index.DKOtY3uX.js";import{e as J,N as ae}from"../chunks/Navbar.DGiOEIBM.js";import{U as le,i as re}from"../chunks/APIAdapter.DEoGsArP.js";function K(i,t,s){const r=i.slice();return r[14]=t[s],r}function R(i){let t,s,r,f,u,l,o,_,v=i[14].name+"",P,g,A;return{c(){t=E("div"),s=E("a"),r=E("img"),l=y(),o=E("h3"),_=E("a"),P=M(v),A=y(),this.h()},l(c){t=N(c,"DIV",{class:!0});var n=I(t);s=N(n,"A",{href:!0});var m=I(s);r=N(m,"IMG",{src:!0,alt:!0,class:!0}),m.forEach(d),l=w(n),o=N(n,"H3",{class:!0});var a=I(o);_=N(a,"A",{href:!0});var e=I(_);P=O(e,v),e.forEach(d),a.forEach(d),A=w(n),n.forEach(d),this.h()},h(){z(r.src,f=i[14].foto||"https://via.placeholder.com/150")||p(r,"src",f),p(r,"alt","artista_foto"),p(r,"class","artista_foto hover-image svelte-mnfsh1"),p(s,"href",u=`/artista/${i[14].id}`),p(_,"href",g=`/artista/${i[14].id}`),p(o,"class","artista_nombre svelte-mnfsh1"),p(t,"class","artista svelte-mnfsh1")},m(c,n){T(c,t,n),k(t,s),k(s,r),k(t,l),k(t,o),k(o,_),k(_,P),k(t,A)},p(c,n){n&1&&!z(r.src,f=c[14].foto||"https://via.placeholder.com/150")&&p(r,"src",f),n&1&&u!==(u=`/artista/${c[14].id}`)&&p(s,"href",u),n&1&&v!==(v=c[14].name+"")&&j(P,v),n&1&&g!==(g=`/artista/${c[14].id}`)&&p(_,"href",g)},d(c){c&&d(t)}}}function $(i){let t,s,r,f,u,l,o,_,v,P,g,A,c,n,m;return{c(){t=E("div"),s=E("button"),r=M("Previous"),u=y(),l=E("p"),o=M(i[1]),_=M(" of "),v=M(i[3]),P=y(),g=E("button"),A=M("Next"),this.h()},l(a){t=N(a,"DIV",{class:!0});var e=I(t);s=N(e,"BUTTON",{class:!0});var b=I(s);r=O(b,"Previous"),b.forEach(d),u=w(e),l=N(e,"P",{class:!0});var h=I(l);o=O(h,i[1]),_=O(h," of "),v=O(h,i[3]),h.forEach(d),P=w(e),g=N(e,"BUTTON",{class:!0});var S=I(g);A=O(S,"Next"),S.forEach(d),e.forEach(d),this.h()},h(){s.disabled=f=i[1]===1,p(s,"class","svelte-mnfsh1"),p(l,"class","svelte-mnfsh1"),g.disabled=c=i[1]===i[3],p(g,"class","svelte-mnfsh1"),p(t,"class","pagination svelte-mnfsh1")},m(a,e){T(a,t,e),k(t,s),k(s,r),k(t,u),k(t,l),k(l,o),k(l,_),k(l,v),k(t,P),k(t,g),k(g,A),n||(m=[U(s,"click",i[7]),U(g,"click",i[6])],n=!0)},p(a,e){e&2&&f!==(f=a[1]===1)&&(s.disabled=f),e&2&&j(o,a[1]),e&8&&j(v,a[3]),e&10&&c!==(c=a[1]===a[3])&&(g.disabled=c)},d(a){a&&d(t),n=!1,Y(m)}}}function W(i){let t,s='<button class="admin-button">Agregar Artista</button>';return{c(){t=E("a"),t.innerHTML=s,this.h()},l(r){t=N(r,"A",{href:!0,class:!0,"data-svelte-h":!0}),ee(t)!=="svelte-89zzpc"&&(t.innerHTML=s),this.h()},h(){p(t,"href","/addArtist"),p(t,"class","agregar_wrapper svelte-mnfsh1")},m(r,f){T(r,t,f)},d(r){r&&d(t)}}}function ne(i){let t,s,r,f,u="Search",l,o,_,v,P,g,A,c=J(i[0]),n=[];for(let e=0;e<c.length;e+=1)n[e]=R(K(i,c,e));let m=i[2]>C&&$(i),a=i[4]&&i[4].role&&W();return{c(){t=E("div"),s=E("input"),r=y(),f=E("button"),f.textContent=u,l=y(),o=E("section");for(let e=0;e<n.length;e+=1)n[e].c();_=y(),m&&m.c(),v=y(),a&&a.c(),P=D(),this.h()},l(e){t=N(e,"DIV",{class:!0});var b=I(t);s=N(b,"INPUT",{type:!0,placeholder:!0,class:!0}),r=w(b),f=N(b,"BUTTON",{"data-svelte-h":!0}),ee(f)!=="svelte-1w1tdxi"&&(f.textContent=u),b.forEach(d),l=w(e),o=N(e,"SECTION",{class:!0});var h=I(o);for(let S=0;S<n.length;S+=1)n[S].l(h);h.forEach(d),_=w(e),m&&m.l(e),v=w(e),a&&a.l(e),P=D(),this.h()},h(){p(s,"type","text"),p(s,"placeholder","Search artists by name..."),p(s,"class","svelte-mnfsh1"),p(t,"class","search-bar svelte-mnfsh1"),p(o,"class","svelte-mnfsh1")},m(e,b){T(e,t,b),k(t,s),H(s,i[5]),k(t,r),k(t,f),T(e,l,b),T(e,o,b);for(let h=0;h<n.length;h+=1)n[h]&&n[h].m(o,null);T(e,_,b),m&&m.m(e,b),T(e,v,b),a&&a.m(e,b),T(e,P,b),g||(A=[U(s,"input",i[11]),U(s,"keypress",i[9]),U(f,"click",i[8])],g=!0)},p(e,[b]){if(b&32&&s.value!==e[5]&&H(s,e[5]),b&1){c=J(e[0]);let h;for(h=0;h<c.length;h+=1){const S=K(e,c,h);n[h]?n[h].p(S,b):(n[h]=R(S),n[h].c(),n[h].m(o,null))}for(;h<n.length;h+=1)n[h].d(1);n.length=c.length}e[2]>C?m?m.p(e,b):(m=$(e),m.c(),m.m(v.parentNode,v)):m&&(m.d(1),m=null),e[4]&&e[4].role?a||(a=W(),a.c(),a.m(P.parentNode,P)):a&&(a.d(1),a=null)},i:B,o:B,d(e){e&&(d(t),d(l),d(o),d(_),d(v),d(P)),se(n,e),m&&m.d(e),a&&a.d(e),g=!1,Y(A)}}}let C=8;function ie(i,t,s){let{artists:r=[]}=t,f=null,u=1,l=0,o=Math.ceil(l/C),_="",v=!1;async function P(a){console.log("Fetching page:",a,"Per page:",C,"Query:",_);const e=await re(a,C,_);s(0,r=e[0]),s(2,l=e[1]),s(3,o=Math.ceil(l/C))}te(async()=>{localStorage.getItem("token");const a=JSON.parse(localStorage.getItem("user")||"{}");s(4,f=a?le.fromObject(a):null),await P(u)});function g(){u<o&&s(1,u+=1)}function A(){u>1&&s(1,u-=1)}function c(){u!==1?s(1,u=1):s(10,v=!0)}function n(a){a.key==="Enter"&&c()}function m(){_=this.value,s(5,_)}return i.$$set=a=>{"artists"in a&&s(0,r=a.artists)},i.$$.update=()=>{i.$$.dirty&1038&&(P(u),s(10,v=!1))},[r,u,l,o,f,_,g,A,c,n,v,m]}class oe extends Z{constructor(t){super(),x(this,t,ie,ne,X,{artists:0})}}function fe(i){let t,s,r,f,u;return t=new ae({}),f=new oe({}),{c(){V(t.$$.fragment),s=y(),r=E("main"),V(f.$$.fragment),this.h()},l(l){q(t.$$.fragment,l),s=w(l),r=N(l,"MAIN",{class:!0});var o=I(r);q(f.$$.fragment,o),o.forEach(d),this.h()},h(){p(r,"class","svelte-t5foe7")},m(l,o){F(t,l,o),T(l,s,o),T(l,r,o),F(f,r,null),u=!0},p:B,i(l){u||(L(t.$$.fragment,l),L(f.$$.fragment,l),u=!0)},o(l){Q(t.$$.fragment,l),Q(f.$$.fragment,l),u=!1},d(l){l&&(d(s),d(r)),G(t,l),G(f)}}}class _e extends Z{constructor(t){super(),x(this,t,null,fe,X,{})}}export{_e as component};
