import{s as U,n as E,o as z,d as N}from"./scheduler.Cz3TSd7V.js";import{S as O,i as q,e as c,s as C,c as v,d as k,A as H,h as x,g as p,o as m,j as I,k as h,z as j}from"./index.DKOtY3uX.js";import{U as B}from"./APIAdapter.DEoGsArP.js";function F(i){return(i==null?void 0:i.length)!==void 0?i:Array.from(i)}function R(i){let e,s='<a class="login svelte-pweovg" href="/login"><button class="svelte-pweovg">Login</button></a>',a,t,l='<a class="register svelte-pweovg" href="/register"><button class="svelte-pweovg">Register</button></a>';return{c(){e=c("li"),e.innerHTML=s,a=C(),t=c("li"),t.innerHTML=l},l(n){e=v(n,"LI",{"data-svelte-h":!0}),H(e)!=="svelte-1he1klb"&&(e.innerHTML=s),a=x(n),t=v(n,"LI",{"data-svelte-h":!0}),H(t)!=="svelte-wltqyd"&&(t.innerHTML=l)},m(n,g){I(n,e,g),I(n,a,g),I(n,t,g)},p:E,d(n){n&&(p(e),p(a),p(t))}}}function $(i){let e,s,a,t,l,n,g,b,o,A="Logout",T,L;return{c(){e=c("li"),s=c("a"),a=c("button"),t=c("img"),g=C(),b=c("li"),o=c("button"),o.textContent=A,this.h()},l(r){e=v(r,"LI",{});var f=k(e);s=v(f,"A",{href:!0});var S=k(s);a=v(S,"BUTTON",{class:!0});var M=k(a);t=v(M,"IMG",{class:!0,src:!0,alt:!0}),M.forEach(p),S.forEach(p),f.forEach(p),g=x(r),b=v(r,"LI",{});var u=k(b);o=v(u,"BUTTON",{class:!0,"data-svelte-h":!0}),H(o)!=="svelte-15ll9dz"&&(o.textContent=A),u.forEach(p),this.h()},h(){m(t,"class","avatar svelte-pweovg"),N(t.src,l=i[1].profile_picture||"https://via.placeholder.com/50")||m(t,"src",l),m(t,"alt","Profile"),m(a,"class","perfil svelte-pweovg"),m(s,"href",n="/usuario/"+i[1].id),m(o,"class","logout svelte-pweovg")},m(r,f){I(r,e,f),h(e,s),h(s,a),h(a,t),I(r,g,f),I(r,b,f),h(b,o),T||(L=j(o,"click",G),T=!0)},p(r,f){f&2&&!N(t.src,l=r[1].profile_picture||"https://via.placeholder.com/50")&&m(t,"src",l),f&2&&n!==(n="/usuario/"+r[1].id)&&m(s,"href",n)},d(r){r&&(p(e),p(g),p(b)),T=!1,L()}}}function y(i){let e,s,a='<button id="logo" class="svelte-pweovg"><img src="https://via.placeholder.com/50" alt="logo"/></button>',t,l,n,g='<a href="/albums"><button class="svelte-pweovg">Albums</button></a>',b,o,A='<a href="/artistas"><button class="svelte-pweovg">Artistas</button></a>',T,L,r='<a href="/reviews"><button class="svelte-pweovg">Reviews</button></a>',f;function S(d,_){return d[0]&&d[1]?$:R}let M=S(i),u=M(i);return{c(){e=c("nav"),s=c("a"),s.innerHTML=a,t=C(),l=c("ul"),n=c("li"),n.innerHTML=g,b=C(),o=c("li"),o.innerHTML=A,T=C(),L=c("li"),L.innerHTML=r,f=C(),u.c(),this.h()},l(d){e=v(d,"NAV",{class:!0});var _=k(e);s=v(_,"A",{href:!0,"data-svelte-h":!0}),H(s)!=="svelte-615e9x"&&(s.innerHTML=a),t=x(_),l=v(_,"UL",{id:!0,class:!0});var w=k(l);n=v(w,"LI",{"data-svelte-h":!0}),H(n)!=="svelte-mkzpfz"&&(n.innerHTML=g),b=x(w),o=v(w,"LI",{"data-svelte-h":!0}),H(o)!=="svelte-hurhvb"&&(o.innerHTML=A),T=x(w),L=v(w,"LI",{"data-svelte-h":!0}),H(L)!=="svelte-of3c81"&&(L.innerHTML=r),f=x(w),u.l(w),w.forEach(p),_.forEach(p),this.h()},h(){m(s,"href","/"),m(l,"id","lista_nav"),m(l,"class","svelte-pweovg"),m(e,"class","svelte-pweovg")},m(d,_){I(d,e,_),h(e,s),h(e,t),h(e,l),h(l,n),h(l,b),h(l,o),h(l,T),h(l,L),h(l,f),u.m(l,null)},p(d,[_]){M===(M=S(d))&&u?u.p(d,_):(u.d(1),u=M(d),u&&(u.c(),u.m(l,null)))},i:E,o:E,d(d){d&&p(e),u.d()}}}function G(){localStorage.removeItem("token"),localStorage.removeItem("user"),window.location.href="/"}function J(i,e,s){let a,t;return z(()=>{s(0,a=localStorage.getItem("token")),s(1,t=B.fromObject(JSON.parse(localStorage.getItem("user")||"")))}),[a,t]}class K extends O{constructor(e){super(),q(this,e,J,y,U,{})}}export{K as N,F as e};
