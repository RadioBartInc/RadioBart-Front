import{s as S,n as B,r as J,h as D}from"../chunks/scheduler.Cz3TSd7V.js";import{S as V,i as G,e as v,s as b,c as _,d as F,A as T,h as w,g as L,o as a,j as M,k as u,B as x,z as I,b as K,f as Q,l as W,m as X,n as Y,p as Z,t as $,a as ee,r as te}from"../chunks/index.DKOtY3uX.js";import{j as se,r as re,U as ne}from"../chunks/APIAdapter.CWbTadu6.js";function O(o){let e,t,l;return{c(){e=v("p"),t=K(o[3]),this.h()},l(s){e=_(s,"P",{class:!0});var r=F(e);t=Q(r,o[3]),r.forEach(L),this.h()},h(){a(e,"class",l=D(o[4])+" svelte-1v6ys91")},m(s,r){M(s,e,r),u(e,t)},p(s,r){r&8&&W(t,s[3]),r&16&&l!==(l=D(s[4])+" svelte-1v6ys91")&&a(e,"class",l)},d(s){s&&L(e)}}}function ae(o){let e,t,l="Registrar",s,r,m="Nombre de usuario:",d,p,U,g,q="Contraseña:",P,f,E,y,H="Confirmar contraseña:",N,h,R,A,C,j='<input class="submit svelte-1v6ys91" type="submit" value="Registrar"/>',k,z,i=o[3]&&O(o);return{c(){e=v("form"),t=v("h2"),t.textContent=l,s=b(),r=v("label"),r.textContent=m,d=b(),p=v("input"),U=b(),g=v("label"),g.textContent=q,P=b(),f=v("input"),E=b(),y=v("label"),y.textContent=H,N=b(),h=v("input"),R=b(),i&&i.c(),A=b(),C=v("div"),C.innerHTML=j,this.h()},l(c){e=_(c,"FORM",{class:!0});var n=F(e);t=_(n,"H2",{class:!0,"data-svelte-h":!0}),T(t)!=="svelte-plgn3f"&&(t.textContent=l),s=w(n),r=_(n,"LABEL",{for:!0,class:!0,"data-svelte-h":!0}),T(r)!=="svelte-1bwnrqw"&&(r.textContent=m),d=w(n),p=_(n,"INPUT",{type:!0,id:!0,class:!0}),U=w(n),g=_(n,"LABEL",{for:!0,class:!0,"data-svelte-h":!0}),T(g)!=="svelte-1up99rm"&&(g.textContent=q),P=w(n),f=_(n,"INPUT",{type:!0,id:!0,class:!0}),E=w(n),y=_(n,"LABEL",{for:!0,class:!0,"data-svelte-h":!0}),T(y)!=="svelte-14uvwfg"&&(y.textContent=H),N=w(n),h=_(n,"INPUT",{type:!0,id:!0,class:!0}),R=w(n),i&&i.l(n),A=w(n),C=_(n,"DIV",{class:!0,"data-svelte-h":!0}),T(C)!=="svelte-tyozom"&&(C.innerHTML=j),n.forEach(L),this.h()},h(){a(t,"class","svelte-1v6ys91"),a(r,"for","username"),a(r,"class","svelte-1v6ys91"),a(p,"type","text"),a(p,"id","username"),a(p,"class","text-input svelte-1v6ys91"),p.required=!0,a(g,"for","password"),a(g,"class","svelte-1v6ys91"),a(f,"type","password"),a(f,"id","password"),a(f,"class","text-input svelte-1v6ys91"),f.required=!0,a(y,"for","confirm-password"),a(y,"class","svelte-1v6ys91"),a(h,"type","password"),a(h,"id","confirm-password"),a(h,"class","text-input svelte-1v6ys91"),h.required=!0,a(C,"class","wrapper svelte-1v6ys91"),a(e,"class","svelte-1v6ys91")},m(c,n){M(c,e,n),u(e,t),u(e,s),u(e,r),u(e,d),u(e,p),x(p,o[0]),u(e,U),u(e,g),u(e,P),u(e,f),x(f,o[1]),u(e,E),u(e,y),u(e,N),u(e,h),x(h,o[2]),u(e,R),i&&i.m(e,null),u(e,A),u(e,C),k||(z=[I(p,"input",o[6]),I(f,"input",o[7]),I(h,"input",o[8]),I(e,"submit",o[5])],k=!0)},p(c,[n]){n&1&&p.value!==c[0]&&x(p,c[0]),n&2&&f.value!==c[1]&&x(f,c[1]),n&4&&h.value!==c[2]&&x(h,c[2]),c[3]?i?i.p(c,n):(i=O(c),i.c(),i.m(e,A)):i&&(i.d(1),i=null)},i:B,o:B,d(c){c&&L(e),i&&i.d(),k=!1,J(z)}}}function le(o,e,t){let l="",s="",r="",m="",d="red";async function p(P){if(P.preventDefault(),l.length<4){t(4,d="red"),t(3,m="El nombre de usuario debe tener al menos 4 letras");return}if(s.length<6){t(4,d="red"),t(3,m="La contraseña debe tener al menos 6 caracteres");return}if(s!==r){t(4,d="red"),t(3,m="Las contraseñas no coinciden");return}const f=new ne("",l,s,"https://via.placeholder.com/50",!1);try{if(await se(f)){t(4,d="red"),t(3,m="El nombre de usuario ya está en uso");return}await re(f)?(t(4,d="green"),t(3,m="Usuario registrado correctamente"),setTimeout(()=>{window.location.href="/"},1e3)):(t(4,d="red"),t(3,m="Error interno del servidor, intenta de nuevo"))}catch(E){console.error("Error al registrar el usuario:",E),t(3,m="Ocurrió un error durante el registro")}}function U(){l=this.value,t(0,l)}function g(){s=this.value,t(1,s)}function q(){r=this.value,t(2,r)}return[l,s,r,m,d,p,U,g,q]}class oe extends V{constructor(e){super(),G(this,e,le,ae,S,{})}}function ue(o){let e,t,l;return t=new oe({}),{c(){e=v("main"),X(t.$$.fragment),this.h()},l(s){e=_(s,"MAIN",{class:!0});var r=F(e);Y(t.$$.fragment,r),r.forEach(L),this.h()},h(){a(e,"class","svelte-1re87rs")},m(s,r){M(s,e,r),Z(t,e,null),l=!0},p:B,i(s){l||($(t.$$.fragment,s),l=!0)},o(s){ee(t.$$.fragment,s),l=!1},d(s){s&&L(e),te(t)}}}class pe extends V{constructor(e){super(),G(this,e,null,ue,S,{})}}export{pe as component};
